//indexing starts from zero consider


#include <bits/stdc++.h>
using namespace std;
  void heapify(int arr[], int size, int i) 
  {
    int left = 2 * i+1;
    int right = 2 * i + 2;
    int max = i;
    if (left < size and arr[left] > arr[max])
      max = left;
    if (right < size and arr[right] > arr[max])
      max = right;
    if (max != i) {
      swap(arr[max], arr[i]);
      heapify(arr, size, max);
    }
  }
  void heapsort(int arr[],int n)
  {
    for(int i=n/2-1 ; i>=0 ; i--)
    {
       heapify(arr,n,i);               // Build heap (rearrange array)
    }
    for(int i=n-1 ; i>=0 ; i--)       // One by one extract an element from heap
	{
    swap(arr[0], arr[i]);            //first element max hoga to usse last mai phucha diya
    heapify(arr,i,0 );               //rest of the array ko dubare arrange krra
  }
  }
int main()
{
  int arr[] = { 2, 6, 8, 3, 7};
  int n = 5;
  heapsort(arr,n);
 for (int i = 0; i < n; i++)
    cout << arr[i] << " ";
  return 0;
}
